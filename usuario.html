<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mi Perfil | Directorio Escuelas</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="icon" href="./img/Icon.png" type="image/png">
    <style>
        .ticket-resumen {
            background-color: #f5f5f5;
            padding: 10px 15px;
            border-radius: 8px;
            width: fit-content;
            font-size: 14px;
        }
    </style>
</head>

<body class="bodyNav">
    <nav>
        <a href="index.html">
            <img src="./img/Logo.png" alt="Logo Directorio Escuelas" />
        </a>
        <div>
            <a href="#" onclick="history.back(); return false;">VOLVER</a>
            <a id="btnOpenTicket" class="cursor">GENERAR TICKET</a>
            <a id="cerrarSesion" class="cursor">CERRAR SESIÓN</a>
        </div>
    </nav>

    <h2>MI PERFIL</h2>
    <div id="perfilDatos">Cargando...</div>

    <button class="btn-login" id="btnOpenProfile">MODIFICAR DATOS</button>
    <button class="btn-login" id="btnOpenLocation">ACTUALIZAR DIRECCIÓN</button>
    <button class="btn-login" id="btnOpenPass">CAMBIAR CONTRASEÑA</button>

    <div id="ticketResumen" class="ticket-resumen">
        <p>Total de tickets generados: <span id="totalTickets">0</span></p>
        <p>Resueltos: <span id="ticketsResueltos">0</span></p>
        <p>Pendientes: <span id="ticketsPendientes">0</span></p>
    </div>


    <div class="modal" id="modalPass" role="dialog" aria-modal="true" aria-labelledby="modalPassTitle">
        <div class="modal-contenido">
            <span class="cerrar" id="closePass" aria-label="Cerrar modal contraseña">&times;</span>
            <h3 id="modalPassTitle">CAMBIAR CONTRASEÑA</h3>
            <form id="formPassword">
                <input type="password" id="newPassword" placeholder="Nueva contraseña" required />
                <button type="submit">ACTUALIZAR</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalLocation" role="dialog" aria-modal="true" aria-labelledby="modalLocationTitle">
        <div class="modal-contenido">
            <span class="cerrar" id="closeLocation" aria-label="Cerrar modal ubicación">&times;</span>
            <h3 id="modalLocationTitle">ACTUALIZAR DIRECCIÓN</h3>
            <form id="formLocation">
                <input type="text" id="direccion" placeholder="Dirección" required />
                <input type="number" step="any" id="latitud" placeholder="Latitud" required />
                <input type="number" step="any" id="longitud" placeholder="Longitud" required />
                <button class="btn-login" type="submit">ACTUALIZAR</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalProfile" role="dialog" aria-modal="true" aria-labelledby="modalProfileTitle">
        <div class="modal-contenido">
            <span class="cerrar" id="closeProfile" aria-label="Cerrar modal datos">&times;</span>
            <h3 id="modalProfileTitle">MODIFICAR DATOS</h3>
            <form id="formProfile">
                <input type="text" id="nombre" placeholder="Nombre" required />
                <select id="genero" required>
                    <option value="">Seleccionar género</option>
                    <option value="M">MASCULINO</option>
                    <option value="F">FEMENINO</option>
                    <option value="X">NO BINARIO</option>
                </select>
                <button class="btn-login" type="submit">ACTUALIZAR</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalTicket" role="dialog" aria-modal="true" aria-labelledby="modalTicketTitle">
        <div class="modal-contenido">
            <span class="cerrar" id="closeTicket" aria-label="Cerrar modal ticket">&times;</span>
            <h3 id="modalTicketTitle">GENERAR TICKET</h3>
            <form id="formTicket">
                <select id="accionTicket" class="selectPopup" required>
                    <option value="" disabled selected>SELECCIONA EL MOTIVO DEL TICKET</option>
                    <option value="datosColegio">AGREGAR, ELIMINAR O MODIFICAR DATOS DE COLEGIO</option>
                    <option value="cambioRol">SOLICITAR CAMBIO DE ROL</option>
                    <option value="recuperarContraseña">SOLICITAR RECUPERAR CONTRASEÑA</option>
                    <option value="eliminarCuenta">SOLICITAR ELIMINAR CUENTA</option>
                </select>
                <div id="campoDatosColegio" class="datos-colegio">
                    <label for="detalleColegio">Especifica qué deseas agregar, eliminar o modificar:</label>
                    <textarea id="detalleColegio" name="detalleColegio" class="detalle-textarea"
                        placeholder="Ej: Agregar dirección del colegio..."></textarea>
                </div>
                <button type="submit">GENERAR</button>
            </form>
        </div>
    </div>

    <script type="module" src="./js/appUsuario.js"></script>
</body>

</html>